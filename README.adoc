= deployme
Dummy project for deployment investigations.

== rough list of possible todo:

==== maven plugins
- [ ] maven release plugin
- [ ] maven scm plugin
- [*] maven versions plugin
- [ ] maven deploy plugin

==== containers
- [ ] docker
- [ ] docker repository

==== container orchestration
- [ ] marathon

==== build pipeline
- [ ] gitlab ci

==== other
- [ ] consider using something bigger e.g. https://github.com/golonzovsky/vehicle-fleet-demo[vehicle fleet] or https://github.com/joshlong/bootiful-microservices[bootiful microservices]

'''
== releasing
. checkout 1.0-SNAPSHOT
  * `git clone`
. update POM version to 1.0-RELEASE
  * `mvn versions:set -DnewVersion=`
  * `mvn versions:update-properties -Dincludes=com.example:*`
. compile, test
  * `mvn clean test`
  * `docker build`
. commit, tag, publish, deploy
  * commit
  * `mvn scm:tag -DVERSION_NUMBER=${BUILD_NUMBER}`
  * publish
    ** `mvn deploy`
    ** `docker push`
  * install, or `docker push`
. update POM to 2.0-SNAPSHOT
  * `versions:set -DnewVersion=`
. commit

== Plugins
=== Versions plugin
http://www.mojohaus.org/versions-maven-plugin/usage.html

==== Goals with no modifications
 * `mvn versions:display-dependency-updates` deep dependency update candidates
 * `mvn versions:display-property-updates`

==== Goals with modifications:
 * `mvn versions:set -DnewVersion=2.1.0-SNAPSHOT`
 * `mvn versions:use-latest-releases` - update dependencies
 * `mvn versions:update-parent`
 * `mvn versions:update-properties` - update properties which are used as dependency versions
 * `mvn versions:lock-snapshots`, `mvn versions:unlock-snapshots`

==== Revert/Commit
 * `mvn versions:revert`
 * `mvn versions:commit`

'''
=== Release plugin

==== Revert changes
 * `mvn release:clean`

== links
https://gist.github.com/golonzovsky/ae9cb92c020f0b8833519447b7471281[tomcat-undeploy-all] +
https://gist.github.com/golonzovsky/8e8e0c7e2acc69225c9757adbe1ccc15[mesos-tomcat] +
https://axelfontaine.com/blog/final-nail.html[final nail to release plugin]